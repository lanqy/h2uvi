# 编辑文本

vi 提供了丰富的编辑文本命令。最基本的是用于删除或擦除的那些。

x（小写“x”）命令删除光标下（i，例如，覆盖）的字符。 要删除任何所需的字符，只需切换到命令模式（如果您还没有），然后使用 h，j，k 和 l 命令的适当组合（当然，一次一个）将光标移动到 那个角色。 然后键入 x 并删除该字符。

通过连续按 x 而不是仅按一次，光标连续向右移动，并且连续删除其下的每个字符。

X（大写 “X”）命令类似，只是它删除了光标左边的字符而不是它下面的字符。

还有几个用于删除文本的附加命令。 D（大写“D”）命令将当前行上的文本从光标下的字符移到行尾。

d（小写“d”）命令非常灵活，因为可以修改它以删除任意数量的字符，单词或行。 单独键入 d 将不会执行任何操作，但键入 dw 会导致光标所在的字符以及要删除的同一单词中右侧的其余字符。 （“w”代表“单词”。）

键入 2dw 会导致光标下的字符，同一个单词中右侧的剩余字符以及下一个字中的所有字符都将被删除。 例如，键入 2dw 并将光标放在字符串 “pineapple plantation” 的 “a” 上会导致字符串 “apple plantation” 被删除。

作为另一个例子，用光标在字符串“blue jay flew south”的“j”上键入3dw导致字符串 “jay flew south” 被删除。也就是说，“jay” 和它右边的两个单词被删除。

可以使用 dd 命令完成删除整行。 此命令也可用于删除多行，方法是在其前面加上一个表示要删除的行数的整数。 例如，键入 2dd 将删除以当前行开头的两个连续行。

对于某些终端，删除一行会导致在屏幕上用 “@” 字符替换它。 此字符仅表示空行，不会插入到文本中。 其目的是减轻处理器不得不重绘屏幕（即，改变整个屏幕）。 如果需要，可以在按住CTRL键的同时键入 r（或 l 在某些终端上）来删除此字符。

更改命令 c（小写“c”）与 delete 命令的不同之处在于它不仅删除了一段文本，还激活了插入模式以允许您键入替换文本。 完成输入替换文本后，请务必按 ESC 返回命令模式。

与 d 的情况一样，c 命令本身不使用，但仅与其后的另一个字母和之前的可选整数结合使用。

例如，命令 cw（代表“更改单词”）删除光标下方和右侧当前单词中的字符，然后将 vi 切换到插入模式，以便您可以输入文本来替换已删除的字符。 输入的新字符数可以与删除的数字相同，更少或更多。

通过在命令前加上一个数字，可以增加要更改的文本量。例如，键入 2cw 将另外删除下一个单词以替换输入的内容。单词之间的空格不会被保留。

cc 命令会删除当前行，将其留空并等待替换文本。 在此命令前面加一个整数将从当前行开始删除该行数。 例如，键入 5cc 将允许您从当前行开始更改五个连续行。

另一个更改命令 R 与 c 命令的不同之处在于它最初不会删除任何内容。相反，它会激活插入模式，并允许您使用键入的字符逐个替换光标下的字符。

vi 支持几种类型的转置。 使用 xp 命令可以轻松转置两个相邻字符的顺序。 只需将光标放在两个字符的最左边，输入 x 擦除左边的字符，然后键入 p，将删除的字符放在光标的右侧。

可以使用 deep 命令转置两个相邻的单词。 要使用它，请将光标放在左侧单词左侧的空间中并键入 deep。 通过将光标放在上面一行并键入 ddp，可以使用 ddp 命令调换两个相邻的行。

改变一个字母的情况也是一件简单的事情。当光标在所需的字母上时，点击 “~”（代字号）键。这会将大写字母改为小写字母，反之亦然。

J（大写“J”）命令用于将下一行连接到当前行。 分割线的相反操作是在插入模式下完成的，只需将光标定位在新线的第一个字符上，然后按ENTER键即可。

vi 还具有撤消功能。 u（小写“u”）命令用于反转已发出的已更改缓冲区但尚未写入磁盘的命令的影响。 U（大写“U”）撤消当前访问期间对当前行所做的所有更改。
